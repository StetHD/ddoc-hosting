<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset = "utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <title>Dottydoc - MutableTyperState</title>

        <script type="text/javascript" src="../../../docassets/material.min.js"></script>
        <script type="text/javascript" src="../../../docassets/highlight.pack.js"></script>
        <script type="text/javascript" src="../../../docassets/index.js"></script>
        <script type="text/javascript" src="../../../docassets/dottydoc.js"></script>
        <link rel="stylesheet" href="../../../docassets/material-icons.css">
        <link rel="stylesheet" href="../../../docassets/material.min.css">
        <link rel="stylesheet" href="../../../docassets/github.css">
        <link rel="stylesheet" href="../../../docassets/index.css">
    </head>
    <body>
        <div id="main-container">
            <script>
                Index.currentEntity = {"name":"MutableTyperState","members":[{"name":"commit","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","commit"],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[],"isImplicit":false},{"list":[{"title":"ctx","ref":{"title":"Context","tpeLink":{"title":"Context","target":"scala.Context","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":true}],"comment":{"body":"<p>Commit typer state so that its information is copied into current typer state\n In addition (1) the owning state of undetermined or temporarily instantiated\n type variables changes from this typer state to the current one. (2) Variables\n that were temporarily instantiated in the current typer state are permanently\n instantiated instead.</p><p> A note on merging: An interesting test case is isApplicableSafe.scala. It turns out that this\n requires a context merge using the new <code>&' operator. Sequence of actions:\n 1) Typecheck argument in typerstate 1.\n 2) Cache argument.\n 3) Evolve same typer state (to typecheck other arguments, say)\n    leading to a different constraint.\n 4) Take typechecked argument in same state.</code></p><p>It turns out that the merge is needed not just for\nisApplicableSafe but also for (e.g. erased-lubs.scala) as well as\nmany parts of dotty itself.\n</p>","short":"<p>Commit typer state so that its information is copied into current typer state\n In addition (1) the owning state of undetermined or temporarily instantiated\n type variables changes from this typer state to the current one.</p>","authors":[],"see":[],"throws":{},"valueParams":{},"typeParams":{},"todo":[],"note":[],"example":[],"groupDesc":{},"groupNames":{},"groupPrio":{},"hideImplicitConversions":[]},"kind":"def"},{"name":"constraint","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","constraint"],"returnValue":{"title":"Constraint","tpeLink":{"title":"Constraint","target":"scala.Constraint","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[],"kind":"def"},{"name":"constraint_=","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","constraint_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"c","ref":{"title":"Constraint","tpeLink":{"title":"Constraint","target":"scala.Constraint","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false},{"list":[{"title":"ctx","ref":{"title":"Context","tpeLink":{"title":"Context","target":"scala.Context","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":true}],"kind":"def"},{"name":"ephemeral","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","ephemeral"],"returnValue":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[],"kind":"def"},{"name":"ephemeral_=","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","ephemeral_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"x","ref":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"fresh","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","fresh"],"returnValue":{"title":"TyperState","tpeLink":{"title":"TyperState","target":"scala.TyperState","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"isCommittable","ref":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"gc","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","gc"],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[],"isImplicit":false},{"list":[{"title":"ctx","ref":{"title":"Context","tpeLink":{"title":"Context","target":"scala.Context","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":true}],"kind":"def"},{"name":"isCommittable","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","isCommittable"],"returnValue":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"isCommitted","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","isCommitted"],"returnValue":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"isCommitted_=","modifiers":["private","<accessor>"],"path":["dotty","tools","dotc","core","MutableTyperState","isCommitted_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"x$1","ref":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"isGlobalCommittable","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","isGlobalCommittable"],"returnValue":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"myConstraint","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","myConstraint"],"returnValue":{"title":"Constraint","tpeLink":{"title":"Constraint","target":"scala.Constraint","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"myConstraint_=","modifiers":["private","<accessor>"],"path":["dotty","tools","dotc","core","MutableTyperState","myConstraint_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"x$1","ref":{"title":"Constraint","tpeLink":{"title":"Constraint","target":"scala.Constraint","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"myEphemeral","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","myEphemeral"],"returnValue":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"myEphemeral_=","modifiers":["private","<accessor>"],"path":["dotty","tools","dotc","core","MutableTyperState","myEphemeral_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"x$1","ref":{"title":"Boolean","tpeLink":{"title":"Boolean","target":"scala.Boolean","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"myReporter","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","myReporter"],"returnValue":{"title":"Reporter","tpeLink":{"title":"Reporter","target":"scala.Reporter","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"myReporter_=","modifiers":["private","<accessor>"],"path":["dotty","tools","dotc","core","MutableTyperState","myReporter_="],"returnValue":{"title":"Unit","tpeLink":{"title":"Unit","target":"scala.Unit","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"x$1","ref":{"title":"Reporter","tpeLink":{"title":"Reporter","target":"scala.Reporter","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"previous","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","previous"],"returnValue":{"title":"TyperState","tpeLink":{"title":"TyperState","target":"scala.TyperState","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"previousConstraint","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","previousConstraint"],"returnValue":{"title":"Constraint","tpeLink":{"title":"Constraint","target":"scala.Constraint","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"r","modifiers":["private"],"path":["dotty","tools","dotc","core","MutableTyperState","r"],"returnValue":{"title":"Reporter","tpeLink":{"title":"Reporter","target":"scala.Reporter","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"kind":"val"},{"name":"reporter","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","reporter"],"returnValue":{"title":"Reporter","tpeLink":{"title":"Reporter","target":"scala.Reporter","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[],"kind":"def"},{"name":"toText","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","toText"],"returnValue":{"title":"Text","tpeLink":{"title":"Text","target":"scala.Text","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"printer","ref":{"title":"Printer","tpeLink":{"title":"Printer","target":"scala.Printer","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"},{"name":"tryWithFallback","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","tryWithFallback"],"returnValue":{"title":"T","tpeLink":{"title":"T","target":"scala.T","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":["T"],"paramLists":[{"list":[{"title":"op","ref":{"title":"T","tpeLink":{"title":"T","target":"scala.T","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":true,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false},{"list":[{"title":"fallback","ref":{"title":"T","tpeLink":{"title":"T","target":"scala.T","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":true,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false},{"list":[{"title":"ctx","ref":{"title":"Context","tpeLink":{"title":"Context","target":"scala.Context","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":true}],"comment":{"body":"<p>Try operation <code>op</code>; if it produces errors, execute <code>fallback</code> with constraint and\n reporter as they were before <code>op</code> was executed. This is similar to <code>typer/tryEither</code>,\n but with one important difference: Any type variable instantiations produced by <code>op</code>\n are persisted even if <code>op</code> fails. This is normally not what one wants and therefore\n it is recommended to use</p><p>     tryEither { implicit ctx => op } { (_, _) => fallBack }</p><p> instead of</p><p>     ctx.tryWithFallback(op)(fallBack)</p><p> <code>tryWithFallback</code> is only used when an implicit parameter search fails\n and the whole expression is subsequently retype-checked with a Wildcard\n expected type (so as to allow an implicit conversion on the result and\n avoid over-constraining the implicit parameter search). In this case,\n the only type variables that might be falsely instantiated by <code>op</code> but\n not by <code>fallBack</code> are type variables in the typed expression itself, and\n these will be thrown away and new ones will be created on re-typing.\n So <code>tryWithFallback</code> is safe. It is also necessary because without it\n we do not propagate enough instantiation information into the implicit search\n and this might lead to a missing parameter type error. This is exhibited\n at several places in the test suite (for instance in <code>pos_typers</code>).\n Overall, this is rather ugly, but despite trying for 2 days I have not\n found a better solution.\n</p>","short":"<p>Try operation <code>op</code>; if it produces errors, execute <code>fallback</code> with constraint and\n reporter as they were before <code>op</code> was executed.</p>","authors":[],"see":[],"throws":{},"valueParams":{},"typeParams":{},"todo":[],"note":[],"example":[],"groupDesc":{},"groupNames":{},"groupPrio":{},"hideImplicitConversions":[]},"kind":"def"},{"name":"uncommittedAncestor","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","uncommittedAncestor"],"returnValue":{"title":"TyperState","tpeLink":{"title":"TyperState","target":"scala.TyperState","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[],"kind":"def"},{"name":"withReporter","modifiers":["override"],"path":["dotty","tools","dotc","core","MutableTyperState","withReporter"],"returnValue":{"title":"TyperState","tpeLink":{"title":"TyperState","target":"scala.TyperState","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"typeParams":[],"paramLists":[{"list":[{"title":"reporter","ref":{"title":"Reporter","tpeLink":{"title":"Reporter","target":"scala.Reporter","kind":"NoLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}],"kind":"def"}],"modifiers":[],"path":["tools","dotc","core","MutableTyperState"],"typeParams":[],"constructors":[[{"list":[{"title":"previous","ref":{"title":"TyperState","tpeLink":{"title":"TyperState","query":"TyperState","kind":"UnsetLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"},{"title":"r","ref":{"title":"Reporter","tpeLink":{"title":"Reporter","query":"Reporter","kind":"UnsetLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"},{"title":"isCommittable","ref":{"title":"Boolean","tpeLink":{"title":"Boolean","query":"Boolean","kind":"UnsetLink"},"paramLinks":[],"kind":"TypeReference"},"isByName":false,"isRepeated":false,"kind":"NamedReference"}],"isImplicit":false}]],"superTypes":[{"title":"TyperState","target":"dotty.tools.dotc.core.TyperState","kind":"NoLink"}],"kind":"class"};
                dotty.tools.doc.client.DottyDoc().main(document.getElementById("main-container"));
            </script>
        </div>
    </body>
</html>
